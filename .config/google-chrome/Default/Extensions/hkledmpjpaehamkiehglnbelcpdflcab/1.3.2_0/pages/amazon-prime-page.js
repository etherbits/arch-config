(()=>{"use strict";var e,t={9612:(e,t,a)=>{function n(e,t){const a=e.lastIndexOf(".");let n=t;if(-1!==a){n=e.substring(a+1);const t=n.indexOf("?");-1!==t&&(n=n.substring(0,t))}return n}function o({onJson:e,onRequest:t,waitForBasename:a}){setTimeout((()=>{const n={};let o="",s=!1;if(void 0!==e){const t=JSON.parse;JSON.parse=function(){const a=t.apply(this,arguments);let i=!1,r=!1;return e?.(a,(e=>{const t=window.location.pathname;void 0===n[t]&&(n[t]=[]),void 0===n[t].find((t=>t.label===e.label&&t.language===e.language))&&(n[t].push(e),i=!0)}),(e=>{o=e,r=!0})),s&&(i||r)&&document.dispatchEvent(new CustomEvent("asbplayer-synced-data",{detail:{error:"",basename:o,subtitles:n[window.location.pathname]}})),a}}document.addEventListener("asbplayer-get-synced-data",(async()=>{t?.((e=>{const t=window.location.pathname;void 0===n[t]&&(n[t]=[]),void 0===n[t].find((t=>t.label===e.label&&t.language===e.language))&&n[t].push(e)}),(e=>{o=e,s||document.dispatchEvent(new CustomEvent("asbplayer-synced-data",{detail:{error:"",basename:o,subtitles:void 0}}))}));const e=()=>(!a||""!==o)&&window.location.pathname in n;e()||await function(e,t=1e4){return new Promise((async(a,n)=>{e()&&a(!0);const o=Date.now();let s=!1;for(;!s&&Date.now()<o+t;)await new Promise((t=>{setTimeout((()=>{s=e(),t()}),1e3)}));a(s)}))}(e),document.dispatchEvent(new CustomEvent("asbplayer-synced-data",{detail:{error:"",basename:o,subtitles:n[window.location.pathname]??[]}})),function(){for(const e of Object.keys(n))e!==window.location.pathname&&delete n[e]}(),s=!0}),!1)}),0)}a.d(t,{UC:()=>o,YU:()=>n})}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(0,(e=n(9612)).UC)({onJson:(t,a)=>{if(t?.subtitleUrls instanceof Array)for(const n of t.subtitleUrls)"string"==typeof t?.catalogMetadata?.catalog?.title&&"string"==typeof n.url&&"string"==typeof n.languageCode&&"string"==typeof n.displayName&&a({label:`${t.catalogMetadata.catalog.title} ${n.displayName}`,language:n.languageCode.toLowerCase(),url:n.url,extension:(0,e.YU)(n.url,"dfxp")})},waitForBasename:!1})})();